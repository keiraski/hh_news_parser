# AI News Telegram Bot

## Описание
Это Telegram-бот, который автоматически собирает новости из интернета и рассылает всем пользователям. Новости извлекаются из векторной базы данных Pinecone и базы Supabase, затем обрабатываются AI Agent с помощью LLM.

## Основные функции
- Добавление пользователей при первом взаимодействии с ботом
- Хранение и обновление новостей в Supabase
- Индексация новостей в Pinecone для быстрого поиска
- Формирование краткой и лаконичной сводки новостей AI Agent
- Ежедневная автоматическая рассылка новостей всем пользователям

## Технологии
- n8n (автоматизация рабочих процессов)
- Supabase (реляционная база данных пользователей и новостей)
- Pinecone (векторная база данных для хранения новостей)
- OpenAI (создание сводок и генерация текста)
- Telegram Bot API (отправка сообщений пользователям)

## Как это работает
1. **Добавление пользователей**: при первом взаимодействии с ботом данные пользователя добавляются в Supabase (`upsert` по `chat_id`).
2. **Сбор новостей**: новости берутся из Supabase, индексируются в Pinecone.
3. **Формирование сводки**: AI Agent обрабатывает последние новости и формирует краткую лаконичную сводку.
4. **Объединение новостей**: все 5 новостей объединяются в одно сообщение.
5. **Рассылка**: сообщение рассылается всем пользователям через Telegram Bot API.

## Запуск
1. Установить n8n и подключить креденшалы: Supabase, Pinecone, OpenAI, Telegram Bot.
2. Импортировать workflow в n8n.
3. Настроить `Schedule Trigger` для автоматической рассылки новостей.
4. Убедиться, что все таблицы в Supabase и индексы в Pinecone созданы.
